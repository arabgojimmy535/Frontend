{"ast":null,"code":"import firebase from 'firebase';\nexport default {\n  name: \"vehiculoPost\",\n  data() {\n    return {\n      uploadValue: 0,\n      vehiculo: {\n        marca: '',\n        modelo: '',\n        año: 0,\n        precio: 0,\n        usado: true,\n        imagen: '',\n        vendido: false\n      }\n    };\n  },\n  methods: {\n    obtenerimagen(e) {\n      let file = e.target.files[0];\n      const storageRef = firebase.storage().ref(`${this.file.name}`).put(this.file);\n      storageRef.on(`state_changed`, snapshot => {\n        this.uploadValue = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n      }, error => {\n        console.log(error.message);\n      }, () => {\n        this.uploadValue = 100;\n        storageRef.snapshot.ref.getDownloadURL().then(url => {\n          this.picture = url;\n        });\n      });\n    },\n    publicar() {\n      let url = \"http://127.0.0.1:8000/api/vehiculos/\";\n      let vehiculo = this.vehiculo;\n      let post = {\n        method: \"POST\",\n        body: JSON.stringify(vehiculo),\n        headers: {\n          \"content-Type\": \"application/json\"\n        }\n      };\n      console.log(vehiculo);\n      fetch(url, post).then(respuesta => respuesta.json()).then(respuesta => console.log(respuesta));\n      // this.$router.push(\"/\");\n    }\n  }\n};","map":{"version":3,"mappings":"AA8FE,OAAOA,QAAO,MAAO,UAAU;AACjC,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,IAAI,GAAG;IACL,OAAO;MACLC,WAAW,EAAE,CAAC;MACdC,QAAQ,EAAE;QACRC,KAAK,EAAE,EAAE;QACTC,MAAM,EAAE,EAAE;QACVC,GAAG,EAAE,CAAC;QACNC,MAAM,EAAE,CAAC;QACTC,KAAK,EAAE,IAAI;QACXC,MAAM,EAAE,EAAE;QACVC,OAAO,EAAE;MACX;IACF,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,aAAa,CAACC,CAAC,EAAE;MACf,IAAIC,IAAG,GAAID,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAC5B,MAAMC,UAAU,GAAClB,QAAQ,CAACmB,OAAO,EAAE,CAACC,GAAG,CAAE,GAAE,IAAI,CAACL,IAAI,CAACd,IAAK,EAAC,CAAC,CAACoB,GAAG,CAAC,IAAI,CAACN,IAAI,CAAC;MAC3EG,UAAU,CAACI,EAAE,CAAE,eAAc,EAACC,QAAQ,IAAE;QACtC,IAAI,CAACpB,WAAU,GAAKoB,QAAQ,CAACC,gBAAgB,GAACD,QAAQ,CAACE,UAAU,GAAE,GAAG;MACxE,CAAC,EAAEC,KAAK,IAAE;QAACC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACG,OAAO,CAAC;MAAA,CAAC,EACtC,MAAI;QAAC,IAAI,CAAC1B,WAAW,GAAC,GAAG;QACvBe,UAAU,CAACK,QAAQ,CAACH,GAAG,CAACU,cAAc,EAAE,CAACC,IAAI,CAAEC,GAAG,IAAG;UACnD,IAAI,CAACC,OAAM,GAAGD,GAAG;QACnB,CAAC,CAAC;MACJ,EACC;IACH,CAAC;IACDE,QAAQ,GAAG;MACT,IAAIF,GAAE,GAAI,sCAAsC;MAChD,IAAI5B,QAAO,GAAI,IAAI,CAACA,QAAQ;MAE5B,IAAI+B,IAAG,GAAI;QACTC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACnC,QAAQ,CAAC;QAC9BoC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC;MACDb,OAAO,CAACC,GAAG,CAACxB,QAAQ,CAAC;MACrBqC,KAAK,CAACT,GAAG,EAACG,IAAI,CAAC,CAACJ,IAAI,CAAEW,SAAS,IAAKA,SAAS,CAACC,IAAI,EAAE,EACnDZ,IAAI,CAAEW,SAAS,IAAKf,OAAO,CAACC,GAAG,CAACc,SAAS,CAAC;MAC3C;IACF;EACF;AACF,CAAC","names":["firebase","name","data","uploadValue","vehiculo","marca","modelo","año","precio","usado","imagen","vendido","methods","obtenerimagen","e","file","target","files","storageRef","storage","ref","put","on","snapshot","bytesTransferred","totalBytes","error","console","log","message","getDownloadURL","then","url","picture","publicar","post","method","body","JSON","stringify","headers","fetch","respuesta","json"],"sourceRoot":"","sources":["C:\\Users\\JIMMY ARANGO\\OneDrive\\Documentos\\GitHub\\PAGINA_WEB\\PROYECTO\\frontend\\src\\views\\SubirVehiculos.vue"],"sourcesContent":["<template>\r\n  <body>\r\n    <main class=\"container\">\r\n      <div class=\"row mt-3\">\r\n        <div class=\"col-md-4 offset-md-4 mt-5\">\r\n          <section class=\"bg-transparent bg-gradient rounded\">\r\n            <form\r\n              v-on:submit.prevent=\"publicar\"\r\n              class=\"card card-body bg-transparent bg-gradient rounded\"\r\n              enctype=\"multipart/form-data\"\r\n            >\r\n              <h1 class=\"text-center\">SUBIR VEHICULO</h1>\r\n              <br />\r\n              <!-- Marca -->\r\n              <div class=\"mb-3\">\r\n                <label for=\"marca\">Marca:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"marca\"\r\n                  class=\"form-control bg-transparent bg-gradient\"\r\n                  placeholder=\"Marca\"\r\n                  v-model=\"vehiculo.marca\"\r\n                />\r\n              </div>\r\n              <!-- Modelo -->\r\n              <div class=\"mb-3\">\r\n                <label for=\"modelo\">Modelo:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"modelo\"\r\n                  class=\"form-control bg-transparent bg-gradient\"\r\n                  placeholder=\"Modelo\"\r\n                  v-model=\"vehiculo.modelo\"\r\n                />\r\n              </div>\r\n              <!-- Año -->\r\n              <div class=\"mb-3\">\r\n                <label for=\"Año\">Año:</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"Año\"\r\n                  class=\"form-control bg-transparent bg-gradient\"\r\n                  placeholder=\"Año\"\r\n                  v-model=\"vehiculo.año\"\r\n                />\r\n              </div>\r\n              <!-- precio -->\r\n              <div class=\"mb-3\">\r\n                <label for=\"precio\">Precio:</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"Precio\"\r\n                  class=\"form-control bg-transparent bg-gradient\"\r\n                  placeholder=\"Precio\"\r\n                  v-model=\"vehiculo.precio\"\r\n                />\r\n              </div>\r\n              <!-- Usado -->\r\n              <div class=\"mb-3\">\r\n                <label for=\"Usado\">Usado:</label>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  class=\"form-check-input mx-2\"\r\n                  v-model=\"vehiculo.usado\"\r\n                />\r\n              </div>\r\n              <!-- Imagen -->\r\n              <div class=\"custom-file mb-4\">\r\n                <input \r\n                type=\"file\" \r\n                class=\"form-control bg-transparent bg-gradient\"\r\n                @change=\"obtenerimagen\">\r\n              </div>\r\n              <!-- Categoria -->\r\n              <div class=\"mb-3\">\r\n                <label>Categoria</label>\r\n                <select class=\"form-control bg-transparent bg-gradient\">\r\n                  <option disabled-value=\"\">Seleccionar Categoria</option>\r\n                  <option value=\"1\">Liviano</option>\r\n                  <option value=\"2\">Pesado</option>\r\n                  <option value=\"3\">Especiales</option>\r\n                  <option value=\"4\">Agricolas</option>\r\n                </select>\r\n              </div>\r\n\r\n              <input type=\"submit\" class=\"btn btn-primary\" value=\"PUBLICAR\" />\r\n            </form>\r\n          </section>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  </body>\r\n</template>\r\n<script>\r\n  import firebase from 'firebase';\r\nexport default {\r\n  name: \"vehiculoPost\",\r\n  data() {\r\n    return {\r\n      uploadValue: 0,\r\n      vehiculo: {\r\n        marca: '',\r\n        modelo: '',\r\n        año: 0,\r\n        precio: 0,\r\n        usado: true,\r\n        imagen: '',\r\n        vendido: false,\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    obtenerimagen(e) {\r\n      let file = e.target.files[0];\r\n      const storageRef=firebase.storage().ref(`${this.file.name}`).put(this.file);\r\n      storageRef.on(`state_changed`,snapshot=>{\r\n        this.uploadValue = (snapshot.bytesTransferred/snapshot.totalBytes)*100;\r\n      }, error=>{console.log(error.message)},\r\n      ()=>{this.uploadValue=100;\r\n        storageRef.snapshot.ref.getDownloadURL().then((url)=>{\r\n          this.picture =url;\r\n        });\r\n      }      \r\n      );\r\n    },\r\n    publicar() {\r\n      let url = \"http://127.0.0.1:8000/api/vehiculos/\";\r\n      let vehiculo = this.vehiculo;\r\n      \r\n      let post = {\r\n        method: \"POST\",\r\n        body: JSON.stringify(vehiculo),\r\n        headers: {\r\n          \"content-Type\": \"application/json\",\r\n        },\r\n      };\r\n      console.log(vehiculo);\r\n      fetch(url,post).then((respuesta) => respuesta.json())\r\n      .then((respuesta) => console.log(respuesta))\r\n      // this.$router.push(\"/\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}